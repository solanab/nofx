# ğŸ”„ å¦‚ä½•å°†ä½ çš„ PR è¿ç§»åˆ°æ–°æ ¼å¼


æœ¬æŒ‡å—å¸®åŠ©ä½ å°†ç°æœ‰ PR è¿ç§»ä»¥æ»¡è¶³æ–°çš„ PR ç®¡ç†ç³»ç»Ÿè¦æ±‚ã€‚

---

## ğŸ¯ ä¸ºä»€ä¹ˆè¦è¿ç§»ï¼Ÿ

è™½ç„¶ä½ çš„ç°æœ‰ PR **ä»å°†æŒ‰ç…§å½“å‰æ ‡å‡†å®¡æ ¸å’Œåˆå¹¶**ï¼Œä½†å°†å…¶è¿ç§»åˆ°æ–°æ ¼å¼å¯ä»¥è·å¾—ï¼š

âœ… **æ›´å¿«çš„å®¡æ ¸** - è‡ªåŠ¨åŒ–æ£€æŸ¥å°½æ—©æ•è·é—®é¢˜
âœ… **æ›´å¥½çš„åé¦ˆ** - CI æä¾›æ¸…æ™°ã€å¯æ“ä½œçš„åé¦ˆ
âœ… **æ›´é«˜è´¨é‡** - ä¸€è‡´çš„ä»£ç æ ‡å‡†
âœ… **å­¦ä¹ æœºä¼š** - äº†è§£æˆ‘ä»¬æ–°çš„è´¡çŒ®å·¥ä½œæµç¨‹

---

## âš¡ å¿«é€Ÿæ£€æŸ¥ï¼ˆæ¨èï¼‰

### æ­¥éª¤ 1ï¼šåˆ†æä½ çš„ PR

```bash
# è¿è¡Œ PR å¥åº·æ£€æŸ¥ï¼ˆåªè¯»ï¼Œä¸ä¿®æ”¹ä»»ä½•å†…å®¹ï¼‰
./scripts/pr-check.sh
```

è¿™å°†åˆ†æä½ çš„ PR å¹¶å‘Šè¯‰ä½ ï¼š
- âœ… ä»€ä¹ˆæ˜¯å¥½çš„
- âš ï¸ ä»€ä¹ˆéœ€è¦æ³¨æ„
- ğŸ’¡ å¦‚ä½•ä¿®å¤é—®é¢˜
- ğŸ“Š æ•´ä½“å¥åº·è¯„åˆ†

### æ­¥éª¤ 2ï¼šä¿®å¤é—®é¢˜

æ ¹æ®å»ºè®®ï¼Œæ‰‹åŠ¨ä¿®å¤é—®é¢˜ã€‚å¸¸è§ä¿®å¤ï¼š

```bash
# Rebase åˆ°æœ€æ–° dev
git fetch upstream && git rebase upstream/dev

# æ ¼å¼åŒ– Go ä»£ç 
go fmt ./...

# è¿è¡Œæµ‹è¯•
go test ./...

# æ ¼å¼åŒ–å‰ç«¯ä»£ç 
cd web && npm run lint -- --fix
```

### æ­¥éª¤ 3ï¼šå†æ¬¡è¿è¡Œæ£€æŸ¥

```bash
# éªŒè¯æ‰€æœ‰é—®é¢˜éƒ½å·²ä¿®å¤
./scripts/pr-check.sh
```

### æ­¥éª¤ 4ï¼šæ¨é€æ›´æ”¹

```bash
git push -f origin <your-pr-branch>
```

### è„šæœ¬åšä»€ä¹ˆ

1. âœ… ä¸æœ€æ–°çš„ `upstream/dev` åŒæ­¥
2. âœ… Rebase ä½ çš„æ›´æ”¹
3. âœ… æ ¼å¼åŒ– Go ä»£ç ï¼ˆ`go fmt`ï¼‰
4. âœ… è¿è¡Œ Go lintingï¼ˆ`go vet`ï¼‰
5. âœ… è¿è¡Œæµ‹è¯•
6. âœ… æ ¼å¼åŒ–å‰ç«¯ä»£ç ï¼ˆå¦‚æœé€‚ç”¨ï¼‰
7. âœ… æ¨é€æ›´æ”¹åˆ°ä½ çš„ PR

---

## ğŸ› ï¸ æ‰‹åŠ¨è¿ç§»ï¼ˆé€æ­¥æŒ‡å—ï¼‰

å¦‚æœä½ æ›´å–œæ¬¢æ‰‹åŠ¨æ“ä½œï¼š

### æ­¥éª¤ 1ï¼šä¸ Upstream åŒæ­¥

```bash
# å¦‚æœè¿˜æ²¡æ·»åŠ  upstreamï¼Œæ·»åŠ å®ƒ
git remote add upstream https://github.com/tinkle-community/nofx.git

# è·å–æœ€æ–°æ›´æ”¹
git fetch upstream

# Rebase ä½ çš„åˆ†æ”¯
git checkout <your-pr-branch>
git rebase upstream/dev
```

### æ­¥éª¤ 2ï¼šåç«¯æ£€æŸ¥ï¼ˆGoï¼‰

```bash
# æ ¼å¼åŒ– Go ä»£ç 
go fmt ./...

# è¿è¡Œ linting
go vet ./...

# è¿è¡Œæµ‹è¯•
go test ./...

# å¦‚æœæœ‰æ›´æ”¹ï¼Œæäº¤å®ƒä»¬
git add .
git commit -m "chore: format and fix backend issues"
```

### æ­¥éª¤ 3ï¼šå‰ç«¯æ£€æŸ¥ï¼ˆå¦‚æœé€‚ç”¨ï¼‰

```bash
cd web

# å®‰è£…ä¾èµ–
npm install

# ä¿®å¤ linting é—®é¢˜
npm run lint -- --fix

# æ£€æŸ¥ç±»å‹
npm run type-check

# æµ‹è¯•æ„å»º
npm run build

cd ..

# æäº¤ä»»ä½•ä¿®å¤
git add .
git commit -m "chore: fix frontend issues"
```

### æ­¥éª¤ 4ï¼šæ›´æ–° PR æ ‡é¢˜ï¼ˆå¦‚æœéœ€è¦ï¼‰

ç¡®ä¿ä½ çš„ PR æ ‡é¢˜éµå¾ª [Conventional Commits](https://www.conventionalcommits.org/)ï¼š

```
<type>(<scope>): <description>

ç¤ºä¾‹ï¼š
feat(exchange): add OKX integration
fix(trader): resolve position tracking bug
docs(readme): update installation guide
```

**ç±»å‹ï¼š**
- `feat` - æ–°åŠŸèƒ½
- `fix` - Bug ä¿®å¤
- `docs` - æ–‡æ¡£
- `refactor` - ä»£ç é‡æ„
- `perf` - æ€§èƒ½æ”¹è¿›
- `test` - æµ‹è¯•æ›´æ–°
- `chore` - æ„å»º/é…ç½®æ›´æ”¹
- `security` - å®‰å…¨æ”¹è¿›

### æ­¥éª¤ 5ï¼šæ¨é€æ›´æ”¹

```bash
git push -f origin <your-pr-branch>
```

---

## ğŸ“‹ æ£€æŸ¥æ¸…å•

è¿ç§»åï¼ŒéªŒè¯ï¼š

- [ ] PR å·²åŸºäºæœ€æ–° `dev` rebase
- [ ] æ²¡æœ‰åˆå¹¶å†²çª
- [ ] åç«¯æµ‹è¯•åœ¨æœ¬åœ°é€šè¿‡
- [ ] å‰ç«¯æ„å»ºæˆåŠŸ
- [ ] PR æ ‡é¢˜éµå¾ª Conventional Commits æ ¼å¼
- [ ] æ‰€æœ‰ commit éƒ½æœ‰æ„ä¹‰
- [ ] æ›´æ”¹å·²æ¨é€åˆ° GitHub

---

## ğŸ¤– è¿ç§»åä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ

æ¨é€æ›´æ”¹åï¼š

1. **è‡ªåŠ¨åŒ–æ£€æŸ¥å°†è¿è¡Œ**ï¼ˆä¸ä¼šé˜»æ­¢åˆå¹¶ï¼Œåªæä¾›åé¦ˆï¼‰
2. **ä½ å°†æ”¶åˆ°è¯„è®º**ï¼ŒåŒ…å«æ£€æŸ¥ç»“æœå’Œå»ºè®®
3. **ç»´æŠ¤è€…å°†å®¡æ ¸** ä½ çš„ PRï¼Œæœ‰äº†æ–°çš„ä¸Šä¸‹æ–‡
4. **æ›´å¿«çš„å®¡æ ¸** å¾—ç›Šäºé¢„æ£€æŸ¥

---

## â“ æ•…éšœæ’é™¤

### "Rebase å†²çª"

å¦‚æœåœ¨ rebase æœŸé—´é‡åˆ°å†²çªï¼š

```bash
# åœ¨ç¼–è¾‘å™¨ä¸­ä¿®å¤å†²çª
# ç„¶åï¼š
git add <fixed-files>
git rebase --continue

# æˆ–ä¸­æ­¢å¹¶å¯»æ±‚å¸®åŠ©ï¼š
git rebase --abort
```

**éœ€è¦å¸®åŠ©ï¼Ÿ** åœ¨ä½ çš„ PR ä¸­è¯„è®ºï¼Œæˆ‘ä»¬ä¼šååŠ©ï¼

### "æµ‹è¯•å¤±è´¥"

å¦‚æœæµ‹è¯•å¤±è´¥ï¼š

```bash
# è¿è¡Œæµ‹è¯•æŸ¥çœ‹é”™è¯¯
go test ./...

# ä¿®å¤é—®é¢˜
# ç„¶åæäº¤å¹¶æ¨é€
git add .
git commit -m "fix: resolve test failures"
git push -f origin <your-pr-branch>
```

### "è„šæœ¬ä¸å·¥ä½œ"

å¦‚æœè¿ç§»è„šæœ¬ä¸å·¥ä½œï¼š

1. æ£€æŸ¥ä½ æ˜¯å¦å®‰è£…äº† Go å’Œ Node.js
2. å°è¯•æ‰‹åŠ¨è¿ç§»ï¼ˆä¸Šé¢çš„æ­¥éª¤ï¼‰
3. åœ¨ä½ çš„ PR è¯„è®ºä¸­å¯»æ±‚å¸®åŠ©

---

## ğŸ’¡ æç¤º

**ä¸æƒ³è¿ç§»ï¼Ÿ**
- æ²¡å…³ç³»ï¼ä½ çš„ PR ä»å°†è¢«å®¡æ ¸å’Œåˆå¹¶
- è¿ç§»æ˜¯å¯é€‰çš„ä½†æ¨èçš„

**ç¬¬ä¸€æ¬¡ä½¿ç”¨ Git rebaseï¼Ÿ**
- æŸ¥çœ‹æˆ‘ä»¬çš„ [Git æŒ‡å—](https://git-scm.com/book/zh/v2/Git-%E5%88%86%E6%94%AF-%E5%8F%98%E5%9F%BA)
- åœ¨ä½ çš„ PR ä¸­æé—® - æˆ‘ä»¬åœ¨è¿™é‡Œå¸®åŠ©ï¼

**æƒ³äº†è§£æ›´å¤šï¼Ÿ**
- [è´¡çŒ®æŒ‡å—](https://github.com/tinkle-community/nofx/blob/main/CONTRIBUTING.md)
- [è¿ç§»å…¬å‘Š](migration-announcement.zh.md)
- [PR å®¡æ ¸æŒ‡å—](../maintainers/pr-review-guide.zh.md)

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

**è¿ç§»é‡åˆ°å›°éš¾ï¼Ÿ**
- åœ¨ä½ çš„ PR ä¸­è¯„è®º
- åœ¨ [Telegram](https://t.me/nofx_dev_community) æé—®
- å¼€å¯ [Discussion](https://github.com/tinkle-community/nofx/discussions)

**æˆ‘ä»¬åœ¨è¿™é‡Œå¸®åŠ©ä½ æˆåŠŸï¼** ğŸš€

---

## ğŸ‰ è¿ç§»å

è¿ç§»å®Œæˆåï¼š
1. âœ… ç­‰å¾…è‡ªåŠ¨åŒ–æ£€æŸ¥è¿è¡Œ
2. âœ… å¤„ç†è¯„è®ºä¸­çš„ä»»ä½•åé¦ˆ
3. âœ… ç­‰å¾…ç»´æŠ¤è€…å®¡æ ¸
4. âœ… åˆå¹¶æ—¶åº†ç¥ï¼ğŸ‰

**æ„Ÿè°¢ä½ ä¸º NOFX åšå‡ºè´¡çŒ®ï¼**
